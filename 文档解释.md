# 文档说明：

## 一、实现方式

1. **请求日志记录功能**：
    - 通过实现`ServletRequestListener`接口来监听 HTTP 请求的生命周期。在`requestInitialized`方法中，当请求开始时，记录请求的各种信息，包括请求时间、客户端 IP 地址、请求方法、请求 URI、查询字符串和 User-Agent。同时，将当前时间戳作为请求的开始时间存储在请求属性中，以便在请求结束时计算处理时间。
    - 在`requestDestroyed`方法中，当请求结束时，获取存储在请求属性中的开始时间，计算出请求处理时间。然后结合其他请求信息，按照一定的日志格式打印出完整的日志信息。这里只是将日志打印到控制台，在实际应用中可以使用成熟的日志框架如 Log4j 或 SLF4J 将日志输出到文件或其他存储介质，以便更好地分析和管理。

2. **测试 Servlet**：
    - 使用`@WebServlet("/")`注解将`TestServlet`映射到根路径。当接收到 GET 请求时，返回一个包含简单 HTML 内容的响应，展示“Hello, World!”的页面。这个 Servlet 用于验证请求日志记录功能是否正常工作。

## 二、注意事项

1. 配置与部署：
    - 确保在项目的配置中正确注册了`ServletRequestListener`。可以通过在`web.xml`文件中进行配置，或者像本项目中使用`@WebListener`注解的方式。
    - 在使用 IDEA 启动 Tomcat 时，确保项目正确部署到服务器中，并且配置了正确的上下文路径等参数，以便能够正确访问测试 Servlet 和其他资源。

2. 日志管理：
    - 虽然本项目中只是将日志打印到控制台，但在实际生产环境中，控制台输出可能不够方便和持久。建议使用专业的日志框架，配置不同的日志级别和输出目的地，以便更好地管理和分析日志。例如，可以将日志输出到文件、数据库或者集中式日志管理系统。

3. 性能影响：
    - 记录请求日志可能会对应用程序的性能产生一定的影响，特别是在高并发的情况下。需要根据实际情况进行性能测试和优化，确保日志记录不会对应用程序的响应时间和吞吐量造成过大的影响。

4. 安全考虑：
    - 在记录请求信息时，要注意保护用户的隐私和敏感信息。避免记录可能包含用户敏感数据的请求内容，如密码、信用卡信息等。同时，要确保日志的存储和访问是安全的，防止未经授权的访问和泄露。